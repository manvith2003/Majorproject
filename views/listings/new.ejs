<% layout("/layouts/boilerplate") %>
<body>
    <form method="POST" action="/listings" novalidate class="needs-validation" enctype="multipart/form-data">
        <div class="text-center mb-4">
            <h2 style="color: darkgreen; margin: top 5px;">New Form</h2>
        </div>
        <div class="form-group">
            <input name="listing[title]" class="form-control mb-3" placeholder="Title" type="text" required>
            <div class="invalid-feedback">Please provide a title.</div>
        </div>
        <div class="form-group">
            <textarea name="listing[description]" class="form-control mb-3" placeholder="Description" required></textarea>
            <div class="invalid-feedback">Please provide a description.</div>
        </div>
        <div class="form-row">
            <div class="col-md-6 mb-3">
                <input name="listing[image]" class="form-control" type="file" required>
                <div class="invalid-feedback">Please provide a valid image URL.</div>
            </div>
        </div>
        <br>
        <!-- <div class="m-b3">
            <label for="category" class="form-label">Choose Category</label>
            <div class="category-choose form-control">
                
                <p><b>Single choose :</b> Click &nbsp;&nbsp;</p>
                <p><b>Multiple choose :</b> Ctrl + Click</p>
                
            </div>
            <select id="category" name="listing[category]" class="form-select border border-black border-opacity-50 mb-2"  multiple required style="font-size: .95rem;">
                <option value="beach">Beach</option>   
                <option value="farms">Farms</option>
                <option value="rooms">Rooms</option>
                <option value="hilly">Hilly</option>
                <option value="trending">Trending</option>
                <option value="new">New</option>
                <option value="snowy">Snowy</option>
                <option value="skiing">Skiing</option>
                <option value="temple">Temple</option>
            </select>
            <div class="invalid-feedback">Choose category name</div>

        </div> -->
        <br>
        <div class="form-row">
            <div class="col-md-6 mb-3">
                <input name="listing[price]" class="form-control" placeholder="Enter the price" type="number" required>
                <div class="invalid-feedback">Please provide a valid price.</div>
            </div>
            <div class="col-md-6 mb-3">
                <input name="listing[country]" class="form-control" placeholder="Enter the country" type="text" required>
                <br><input name="listing[location]" class="form-control" placeholder="Enter the location" type="text" required>
                <div class="invalid-feedback">Please provide a country and location.</div>
            </div>
        </div>
        <br>
        <div class="form-row">
            <div class="col-md-6 mb-3">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                    <label class="form-check-label" for="invalidCheck">
                        Agree to terms and conditions
                    </label>
                    <div class="invalid-feedback">
                        You must agree before submitting.
                    </div>
                </div>
            </div>
            <div class="col-md-7 mb-4">
                <div class="form-group">
                    <button type="submit" class="btn btn-primary mr-3">Submit form</button>
                    <!-- <button type="submit" class="btn btn-danger">ADD</button> -->
                </div>
            </div>
        </div>
    </form>

    <script>
        (() => {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>
</body>
